<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora EcoDrain</title>
  
</head>
<body style="background-color: #B7E4C7;">
    <center>
    <div class="calculatora">
        <h1>Simulador Financeiro</h1>
                <p>Quantidade de bueiros na proximidade:</p>
                <input type="number" id="ipt_bueiros" placeholder="Digite a quantidade de bueiros ">
                <p>Quantidade de casas afetadas por enchentes:</p>
                <input type="number" id="ipt_casas" placeholder="Digite a quantidade de casas">
                <p>Moradores que processam o Estado: (%)</p>
                <input type="number" id="ipt_porcentagem" placeholder="Digite a porcentagem de processos"> <br>
            <button onclick="economia()">Calcular economia</button>
            <div class="resultado" id="div_resultado"> Insira os dados para calcular a economia. </div>
            <h4> *Levando em consideração a jurisprudência do TJSP que estabele a indenização <br> no valor de R$20.000,00 para casas afetadas por enchentes. </h4>
    </div>
    </center>
    <script>
        function economia(){
            if (ipt_bueiros.value == '' || ipt_casas.value == '' || ipt_porcentagem.value == ''){
                div_resultado.innerHTML = `Valores inválidos.`;
            } else {
                var bueiros = Number(ipt_bueiros.value);
                var casas = Number(ipt_casas.value);
                var porcentagem = (Number(ipt_porcentagem.value))/100;
                var processos = casas * 20000 * porcentagem;
                var custo_un = 0; //preço unitário do dispositivo, a definir
                var custo_total = bueiros * custo_un;
                var economia = processos - custo_total;
                const formatar = new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
                });
                div_resultado.innerHTML = 
                `Custo das indenizações: ${formatar.format(processos)}.* <br>
                Dispositivos instalados: ${bueiros}. <br>
                Custo dos dispositivos: ${formatar.format(custo_total)}. <br>
                Valor economizado: ${formatar.format(economia)}.`;
            }
        }
    </script>
</body>
</html>
